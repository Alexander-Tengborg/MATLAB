%u1=(21+21+u2+u4)/4
%u2=(21+u1+u3+u5)/4
%u3=(21+105+u2+u6)/4
%u4=(21+u1+u5+u7)/4
%u5=(u2+u4+u6+u8)/4
%u6=(105+u3+u5+u9)/4
%u7=(21+35+u4+u8)/4
%u8=(35+u5+u7+u9)/4
%u9=(35+105+u6+u8)/4

%4*u1=21+21+u2+u4
%4*u2=21+u1+u3+u5
%4*u3=21+105+u2+u6
%4*u4=21+u1+u5+u7
%4*u5=u2+u4+u6+u8
%4*u6=105+u3+u5+u9
%4*u7=21+35+u4+u8
%4*u8=35+u5+u7+u9
%4*u9=35+105+u6+u8

%4*u1-u2-u4=42 %-
%4*u2-u1-u3-u5=21 %-
%4*u3-u2-u6=126 %-
%4*u4-u1-u5-u7=21 %-
%4*u5-u2-u4-u6-u8=0 %-
%4*u6-u3-u5-u9=105 %-
%4*u7-u4-u8=56 %-
%4*u8-u5-u7-u9=35
%4*u9-u6-u8=140

A=[4 -1 0 -1 0 0 0 0 0;
   -1 4 -1 0 -1 0 0 0 0;
   0 -1 4 0 0 -1 0 0 0;
   -1 0 0 4 -1 0 -1 0 0;
   0 -1 0 -1 4 -1 0 -1 0;
   0 0 -1 0 -1 4 0 0 -1;
   0 0 0 -1 0 0 4 -1 0;
   0 0 0 0 -1 0 -1 4 -1;
   0 0 0 0 0 -1 0 -1 4]

b=[42;
   21;
   126;
   21;
   0;
   105;
   56;
   35;
   140;]
[A b];
rref([A b])